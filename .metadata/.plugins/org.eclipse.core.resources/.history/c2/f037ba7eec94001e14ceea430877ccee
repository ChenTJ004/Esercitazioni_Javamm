int[] rigaTraslata(int[] riga, short numPosizioni) {
	int lunghezza = riga.length;
	int[] rigaTraslata = new int[lunghezza];
	for (int i = 0; i < lunghezza; i++) {
		rigaTraslata[(i + numPosizioni + Math.abs(lunghezza*numPosizioni)) % lunghezza] = riga[i];
	}
	return rigaTraslata;
}

// CONSEGNA OBBLIGATORIA
int[][] scorrimentoRighe(int[][] M) {
	int m = M.length;
	int n = M[0].length;
	int[][] matriceTraslata = new int[m][n];
	
	int index = 0;
	while (index < m) {
		if (index % 2 == 0) {
			matriceTraslata[index] = rigaTraslata(M[index], (short)1);
		} else {
			matriceTraslata[index] = rigaTraslata(M[index], (short)-1);
		}
		index++;
	}
	return matriceTraslata;
}

// CONSEGNA EXTRA (FACOLTATIVA)
int[][] scorrimentoRigheNposizioni(int [][] M, short p) {
	int m = M.length;
	int n = M[0].length;
	int[][] matriceTraslata = new int[m][n];
	
	int index = 0;
	while (index < m) {
		if (index % 2 == 0) {
			matriceTraslata[index] = rigaTraslata(M[index], p);
		} else {
			matriceTraslata[index] = rigaTraslata(M[index], (-p));
		}
		index++;
	}
	return matriceTraslata;
}

short p=50;
		
		int[][] M = {{1,2,3,4,5,6,7},
			   	     {8,9,10,11,12,13,14},
				     {15,16,17,18,19,20,21},
			   	     {22,23,24,25,26,27,28}};
				     
System.out.println(scorrimentoRigheNposizioni(M, p));
